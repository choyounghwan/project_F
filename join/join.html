<!DOCTYPE html>
<html>
    <head>
        <title>회원가입</title>
        <meta charset= "utf-8">
        <link rel="stylesheet" href="css/join.css">
        <link href="https://fonts.googleapis.com/earlyaccess/notosanskr.css" rel="stylesheet">
    </head>
    <body>
        <div class="join-form">
            <form>
                <input type="email" name="email" id="id" class="text-field" placeholder="아이디">
                <input type="password" name="password" id="password" class="text-field" placeholder="비밀번호">
                <input type="submit" value="JOIN" id="join" class="submit-btn">
                <a href="../login/login.html"><input type="button" value="로그인 하러가기" class="submit-btn"></a>
            </form>
            <script type="module">
                // Import the functions you need from the SDKs you need
                import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
                import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-analytics.js";
                // TODO: Add SDKs for Firebase products that you want to use
                // https://firebase.google.com/docs/web/setup#available-libraries
              
                // Your web app's Firebase configuration
                // For Firebase JS SDK v7.20.0 and later, measurementId is optional
                const firebaseConfig = {
                  apiKey: "AIzaSyDhYTPOZwakG0BJ086fVtHklNPYp3o5kRw",
                  authDomain: "easylogin-b7ba8.firebaseapp.com",
                  projectId: "easylogin-b7ba8",
                  storageBucket: "easylogin-b7ba8.appspot.com",
                  messagingSenderId: "514776565098",
                  appId: "1:514776565098:web:bf48fa8591bd7b3d451113",
                  measurementId: "G-WTG8XKMVB1"
                };
              
                // Initialize Firebase
                const app = initializeApp(firebaseConfig);
                const analytics = getAnalytics(app);

                import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";

                document.getElementById('join').addEventListener('click', (event) => {
                    event.preventDefault()
                    const email = document.getElementById('id').value 
                    const password = document.getElementById('password').value
                    const auth = getAuth();
                    createUserWithEmailAndPassword(auth, email, password)
                        .then((userCredential) => {
                            console.log(userCredential)
                            // Signed in 
                            const user = userCredential.user;
                            // ...
                        })
                        .catch((error) => {
                            console.log('error')
                            const errorCode = error.code;
                            const errorMessage = error.message;
                            // ..
                        });
                })
              </script>
        </div>
        <script src="join.js"></script>
    </body>
</html>