<!DOCTYPE html>
<html>
    <head>
        <title>로그인</title>
        <meta charset= "utf-8">
        <link rel="stylesheet" href="css/login.css">
        <link href="https://fonts.googleapis.com/earlyaccess/notosanskr.css" rel="stylesheet">
    </head>
    <body>
        <div class="login-form">
            <form>
                <input type="email" name="email" id="id" class="text-field" placeholder="아이디">
                <input type="password" name="password" id="password" class="text-field" placeholder="비밀번호">
                <input type="submit" value="로그인" id="login" class="submit-btn">
                <a href="../join/join.html"><input type="button" value="회원가입" class="submit-btn"></a>
            </form>
            <script type="module">
                // Import the functions you need from the SDKs you need
                import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
                import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-analytics.js";
                // TODO: Add SDKs for Firebase products that you want to use
                // https://firebase.google.com/docs/web/setup#available-libraries
              
                // Your web app's Firebase configuration
                // For Firebase JS SDK v7.20.0 and later, measurementId is optional
                const firebaseConfig = {
                  apiKey: "AIzaSyDhYTPOZwakG0BJ086fVtHklNPYp3o5kRw",
                  authDomain: "easylogin-b7ba8.firebaseapp.com",
                  projectId: "easylogin-b7ba8",
                  storageBucket: "easylogin-b7ba8.appspot.com",
                  messagingSenderId: "514776565098",
                  appId: "1:514776565098:web:bf48fa8591bd7b3d451113",
                  measurementId: "G-WTG8XKMVB1"
                };
              
                // Initialize Firebase
                const app = initializeApp(firebaseConfig);
                const analytics = getAnalytics(app);

                import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";

                document.getElementById('login').addEventListener('click', (event) => {
                    event.preventDefault()
                    const email = document.getElementById('id').value 
                    const password = document.getElementById('password').value
                    const auth = getAuth();

                    signInWithEmailAndPassword(auth, email, password)
                    .then((userCredential) => {
                        console.log(userCredential)
                        // Signed in 
                        const user = userCredential.user;
                        // ...
                    })
                    .catch((error) => {
                        console.log('로그인 실패')
                        const errorCode = error.code;
                        const errorMessage = error.message;
                    });
                })
              </script>
            <div class="links">
                <a href="#">비밀번호를 잊어버리셨나요?</a>
            </div>
        </div>
        <script src="login.js"></script>
    </body>
</html>